#!/usr/bin/env nodejs
"use strict";

const express = require('express');
const app = express();
const http = require('http').Server(app);
const assert = require('assert');
const ros = require('rosnodejs');

app.io = require('socket.io')(http);
app.nh = null;

ros.initNode('remote_node').then(() => {
  ros.log.info("initialized")
  app.nh = ros.nh;
});

require('./routes')(app);
require('./socket-ros')(app);

http.listen(3000, () => console.log('listening on :3000'));
